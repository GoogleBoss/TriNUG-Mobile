<!DOCTYPE html>
<html>
<head>
    <title>TRINUG</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="Content/jquery.mobile-1.1.0-rc.1.min.css" rel="stylesheet" type="text/css" />
    <script src="Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).bind('mobileinit', function () {
            //$.mobile.page.prototype.options.addBackBtn = true;
            $.mobile.page.prototype.options.backBtnTheme = "e";
            $.mobile.page.prototype.options.headerTheme = "b";
            $.mobile.page.prototype.options.footerTheme = "d";
        })
    </script>
    <script src="Scripts/jquery.mobile-1.1.0-rc.1.min.js" type="text/javascript"></script>
    <script src="Scripts/jquery.dateFormat-1.0.js" type="text/javascript"></script>
    <script type="text/javascript">
         $(document).ready(function () {
                loadEventData();
            });
    </script>
</head>
<body>
    <div data-role="page" id="main">
        <div data-role="content">
            <p style="text-align: center;">
                <img src="Content/images/trinug_headerlogo.png" />
                <h1>Welcome!</h1>
                <p>
                    TRINUG is user group that brings together .NET developers and technology enthusiasts from around the Triangle of North Carolina.
                </p>
            </p>
        </div>
        <!-- /content -->
        <div data-role="footer" style="text-align: center;" data-position="fixed">
            <div data-role="navbar">
                <ul>
                    <li><a href="#" data-icon="home" class="ui-btn-active ui-state-persist" data-transition="fade">Home</a></li>
                    <li><a href="#events" data-icon="grid" data-transition="fade">Events</a></li>
                    <li><a href="#rducc" data-icon="star" data-transition="fade">Code Camp</a></li>
                    <li><a href="#about" data-icon="info" data-transition="fade">About</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- / main page -->

    <div data-role="page" data-title="Events" id="events">
        <div data-role="header" data-position="fixed">
            <h1>Events</h1>
        </div>
        <!-- /header -->
        <div data-role="content">
            <ul data-role="listview" id="list" data-filter="true"> 
                    
            </ul>
        </div>
        <!-- /content -->
        <div data-role="footer" style="text-align: center;" data-position="fixed">
            <div data-role="navbar">
                <ul>
                    <li><a href="#main" data-icon="home"  data-transition="fade">Home</a></li>
                    <li><a href="#" data-icon="grid" class="ui-btn-active ui-state-persist" data-transition="fade">Events</a></li>
                    <li><a href="#rducc" data-icon="star" data-transition="fade">Code Camp</a></li>
                    <li><a href="#about" data-icon="info" data-transition="fade">About</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- /events page -->
    
    <div data-role="page" id="eventDetails" data-position="fixed" data-add-back-btn="true">
            <div data-role="header">
                <h1>Details</h1>
            </div>
            <!-- /header -->
            <div data-role="content">
                <p>
                    details go here...
                </p>
            </div>
            <!-- /content -->
        </div>
        <!-- /event details page -->  
    
    <div data-role="page" data-title="Code Camp" id="rducc">
        <div data-role="header" data-position="fixed">
            <h1>Code Camp</h1>
        </div>
        <!-- /header -->
        <div data-role="content">
            this is the Code Camp page...
        </div>
        <!-- /content -->
        <div data-role="footer" style="text-align: center;" data-position="fixed">
            <div data-role="navbar">
                <ul>
                    <li><a href="#main" data-icon="home"  data-transition="fade">Home</a></li>
                    <li><a href="#events" data-icon="grid" data-transition="fade">Events</a></li>
                    <li><a href="#" data-icon="star" class="ui-btn-active ui-state-persist" data-transition="fade">Code Camp</a></li>
                    <li><a href="#about" data-icon="info" data-transition="fade">About</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- /events page -->

    <div data-role="page" data-title="About" id="about" data-add-back-btn="false">
        <div data-role="header" data-position="fixed">
            <h1>About</h1>
        </div>
        <!-- /header -->
        <div data-role="content">
            <p>
                <strong>What is TRINUG?</strong><br/>
                A user group that brings together .Net developers and technology enthusiasts from around the Triangle of North Carolina. Membership ranges from brand new developers of .Net, to seasoned practitioners. Membership is <strong>always free</strong> and all are welcome.
            </p>
            <p>
                <strong>What kind of Meetings and gatherings do you have?:</strong><br/>
                - A Main meeting where locally & nationally recognized speakers are selected to talk about a new technology or to go in depth on various topics. (2nd Wed)<br/>
                - SIGs (Special Interest Groups) discussions and deep dives that each meet once a month. (1st, 3rd, and 4th Wed)<br/>
                - free, day-long events titled CodeCampRDU.<br/>
                - ad hoc meetings like Nerd Dinners, Pizza/Movie Night, Hack Night, and FireStarters
            </p>
        </div>
        <!-- /content -->
        <div data-role="footer" style="text-align: center;" data-position="fixed">
            <div data-role="navbar">
                <ul>
                    <li><a href="#main" data-icon="home"  data-transition="fade">Home</a></li>
                    <li><a href="#events" data-icon="grid" data-transition="fade">Events</a></li>
                    <li><a href="#rducc" data-icon="star" data-transition="fade">Code Camp</a></li>
                    <li><a href="#" data-icon="info" class="ui-btn-active ui-state-persist" data-transition="fade">About</a></li>
                </ul>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        function loadEventData() {
            var apiKey = "2e6fa4e481d2ee585c356558d21";
            $.getJSON('https://api.meetup.com/2/events?key=2e6fa4e481d2ee585c356558d21&sign=true&group_urlname=TriNUG&page=20&callback=?', function (data) {
                //alert('Made it');
                var list = $('#list');
                list.html("");
                //alert('items');
                $.each(data, function () {
                    $.each(this, function (k, v) {
                        if (v.time > 0) {
                            var eventDate = new Date(v.time);
                            var eventTitle = '<h1>' + $.format.date(eventDate, "MMM dd, yyyy") + '</h1><p>' + v.name + '</p>';

                            var a = document.createElement('a');
                            a.title = eventTitle;
                            a.innerHTML = eventTitle;
                            a.href = "#eventDetails";


                            //eventTitle = jQuery.trim(eventTitle).substring(0, 60).split(" ").slice(0, -1).join(" ") + "...";
                            list.append(
                                $(document.createElement('li')).html(a)
                            );
                        }
                    });
                });
                list.listview("destroy").listview();
            });
        }
    </script>
</body>
</html>